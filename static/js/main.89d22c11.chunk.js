(this.webpackJsonpmyapp=this.webpackJsonpmyapp||[]).push([[0],{111:function(e,t,n){e.exports=n(288)},119:function(e,t,n){},285:function(e,t,n){},288:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(22),o=n.n(c),l=n(110),i=n(43),u=n(44),d=n(46),s=n(45),m=n(6),p=n(105),f=n.n(p),h=function(e){var t=e.data,n=e.chartType,c=(e.color,e.datas),o=e.isName,l=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=l.current.getContext("2d");e.canvas.maxheight=600,new f.a(e,{type:n,data:{labels:o?t:t.map((function(e,t){return"".concat(t+1)})),datasets:c.map((function(e){return e})),backgroundColor:"rgba(255, 99, 132, 0.2)"},options:{}})})),r.a.createElement("canvas",{id:"myChart",ref:l})},b=n(7);function v(){var e=Object(m.a)(["\nfont-size:2.5rem;\nwidth:200%;\n"]);return v=function(){return e},e}function E(){var e=Object(m.a)(["\nheight: 30%;\nwidth:100%;\ntext-align:center;\nfont-size:2rem;\npadding:6px 20px;\n"]);return E=function(){return e},e}function C(){var e=Object(m.a)(["\ndisplay:flex;\nalign-items: center;\njustify-content:space-between;\nflex-direction:column;\npadding:10px;\nwidth:50%;\nmargin: 30px 40vw;\n"]);return C=function(){return e},e}var g=b.a.form(C()),y=b.a.input(E()),x=b.a.span(v()),j=function(e){var t=e.handleInput,n=e.handleSubmit,a=e.data;return r.a.createElement(g,{onSubmit:n},r.a.createElement(y,{onChange:t,type:"number",placeholder:"point"}),r.a.createElement(y,{type:"submit",value:"Add"}),r.a.createElement(x,null,"Data in chart:",a.map((function(e){return"".concat(e," , ")}))))};function w(){var e=Object(m.a)(["\npadding:10px;\n"]);return w=function(){return e},e}var S=b.a.option(w()),O=function(e){var t=e.inner;return r.a.createElement(S,null,t)};function k(){var e=Object(m.a)(["\npadding:10px;\n"]);return k=function(){return e},e}var A=b.a.select(k()),D=function(e){var t=e.atributes,n=e.handleSelect;return r.a.createElement(r.a.Fragment,null,r.a.createElement(A,{onChange:n},t.map((function(e){return r.a.createElement(O,{key:e,value:e,inner:e})}))))},I=(n(119),n(109)),T=n(29),M=n(3);n(285);function R(){var e=Object(m.a)(["\nmargin:0;\npadding:10px;\nwidth:100vw;\nbackground-color:#222;\ntext-align:center;\n"]);return R=function(){return e},e}var B=b.a.nav(R()),N=function(){return r.a.createElement(B,null,r.a.createElement("ul",null,r.a.createElement("li",null,r.a.createElement(T.b,{to:"/"},"Home")),r.a.createElement("li",null,r.a.createElement(T.b,{to:"/covid"},"Covid"))))},z=n(30),F=n.n(z),J=n(67),P=function(e){Object(d.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={api:[],bar:[],topten:[]},e.fetchExam=Object(J.a)(F.a.mark((function t(){var n,a,r,c;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.covid19api.com/total/country/poland");case 3:return n=t.sent,t.next=6,n.json();case 6:for(a=t.sent,r=[],c=0;c<a.length;c++)r.push(a[c]);e.setState({api:r}),t.next=15;break;case 12:t.prev=12,t.t0=t.catch(0),console.error(t.t0);case 15:case"end":return t.stop()}}),t,null,[[0,12]])}))),e.fetchAll=Object(J.a)(F.a.mark((function t(){var n,a,r,c,o;return F.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,fetch("https://api.covid19api.com/summary");case 3:return n=t.sent,t.next=6,n.json();case 6:for(a=t.sent,r=[],c=0;c<a.Countries.length;c++)r.push({name:a.Countries[c].Country,confirmed:String(a.Countries[c].TotalConfirmed)});o=r.sort((function(e,t){return t.confirmed-e.confirmed})).slice(0,20).reverse(),e.setState({topten:o}),e.setState({bar:r}),t.next=17;break;case 14:t.prev=14,t.t0=t.catch(0),console.error(t.t0);case 17:case"end":return t.stop()}}),t,null,[[0,14]])}))),e}return Object(u.a)(n,[{key:"componentDidMount",value:function(){this.fetchExam(),this.fetchAll()}},{key:"render",value:function(){var e=this.state,t=e.api,n=e.topten,a=t.map((function(e){return String(e.Confirmed)})),c=n.map((function(e){return String(e.confirmed)})),o=[{label:"Confirmed Cases",data:a,borderColor:"red",fill:!1},{label:"Active Cases",data:t.map((function(e){return String(e.Active)})),borderColor:"blue",fill:!1},{label:"Deaths",data:t.map((function(e){return String(e.Deaths)})),borderColor:"black",fill:!1},{label:"Recovered",data:t.map((function(e){return String(e.Recovered)})),borderColor:"green",fill:!1}],l=[];return l.push({label:"",data:c,borderColor:"red",fill:!0}),r.a.createElement(r.a.Fragment,null,r.a.createElement("h1",null,"Covid api"),r.a.createElement("h2",null,"Poland"),r.a.createElement(h,{data:a,chartType:"line",color:"blue",datas:o}),r.a.createElement("h2",null,"Global top 10"),r.a.createElement(h,{data:n.map((function(e){return e.name})),isName:!0,chartType:"bar",color:"blue",datas:l}))}}]),n}(r.a.Component);function G(){var e=Object(m.a)(["\nheight: 100%;\nwidth:100vw;\ndisplay:flex;\nflex-direction:row;\njustify-content: space-between;\n"]);return G=function(){return e},e}function H(){var e=Object(m.a)(["\nwidth:40%;\ndisplay:flex;\nflex-direction:column;\njustify-content:space-between;\n"]);return H=function(){return e},e}function q(){var e=Object(m.a)(["\npadding:10px 150px;\ntext-align:center;\n"]);return q=function(){return e},e}function K(){var e=Object(m.a)(["\ntext-align:center;\nfont-size:9rem;\nfont-weight:bold;\n"]);return K=function(){return e},e}var L=b.a.header(K()),Q=b.a.div(q()),U=b.a.div(H()),V=b.a.div(G()),W=function(e){Object(d.a)(n,e);var t=Object(s.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,u=new Array(a),d=0;d<a;d++)u[d]=arguments[d];return(e=t.call.apply(t,[this].concat(u))).state={data:[],chartType:"line",mess:"",color:"blue"},e.rChart=r.a.createRef(),e.handleSubmit=function(t,n){t.preventDefault(),e.setState({data:[].concat(Object(l.a)(e.state.data),[e.state.mess])})},e.handleInput=function(t){e.setState({mess:t.target.value})},e.handleSelect=function(t){e.setState({chartType:t.target.value})},e.removeData=function(){for(e.setState({data:[]}),Object(c.unmountComponentAtNode)(document.getElementById("app"));e.rChart.firstChild;)document.body.removeChild(e.rChart.firstChild)},e.newChart=function(t){for(t.preventDefault(),Object(c.unmountComponentAtNode)(document.getElementById("app"));e.rChart.firstChild;)document.body.removeChild(e.rChart.firstChild);o.a.render(r.a.createElement(h,{data:e.state.data,chartType:e.state.chartType,color:e.state.color,datas:[{label:"Chart",data:e.state.data,borderColor:"".concat(e.state.color),fill:!1}]}),document.getElementById("app"))},e}return Object(u.a)(n,[{key:"render",value:function(){var e=this,t=this.state.data;return r.a.createElement(T.a,{basename:"/ChartMakerApp"},r.a.createElement(N,null),r.a.createElement(Q,null,r.a.createElement(L,null,"ChartMaker"),r.a.createElement(M.c,null,r.a.createElement(M.a,{exact:!0,path:"/"},r.a.createElement(V,null,r.a.createElement(U,null,r.a.createElement(D,{atributes:["line","bar","radar","pie"],handleSelect:this.handleSelect}),r.a.createElement(I.SwatchesPicker,{onChange:function(t){return e.setState({color:t.hex})}}),r.a.createElement("button",{onClick:this.newChart},"Make chart"),r.a.createElement("button",{onClick:this.removeData},"Remove data")),r.a.createElement(j,{handleSubmit:this.handleSubmit,handleInput:this.handleInput,data:t})),r.a.createElement("div",{id:"app",ref:this.rChart})),r.a.createElement(M.a,{path:"/covid"},r.a.createElement(P,{select:this.handleSelect})))))}}]),n}(r.a.Component);o.a.render(r.a.createElement(r.a.StrictMode,null,r.a.createElement(W,null)),document.getElementById("root"))}},[[111,1,2]]]);
//# sourceMappingURL=main.89d22c11.chunk.js.map